const populateChuckFacts=function(n){$("#num-of-facts").text(n.length);const t=$("#chuck-facts-area");for(let n of n)t.append(`<section class='chuck-fact' data-factid='${n.id}' data-description='${n.description}'>
                 <p>${n.description}</p>
            </section>`);$("#chuck-facts-area .chuck-fact").on("click",function(){const n=$(this),i="chuck-fact-selected",u=n.hasClass(i),r=n.data("factid"),f=n.data("description"),e=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB||window.shimIndexedDB;let t=e.open("Chuck",1);t.onupgradeneeded=function(){let n=t.result;n.createObjectStore("FavoriteFacts",{keyPath:"id"})};t.onsuccess=function(){const e=t.result,o=e.transaction("FavoriteFacts","readwrite"),s=o.objectStore("FavoriteFacts");u?s.delete(r).onsuccess=()=>{n.removeClass(i)}:(s.put({id:r,description:f}).onsuccess=()=>{n.addClass(i)},o.oncomplete=function(){e.close()})}})},loadChuckFacts=function(){$.get(`${chuckNorrisAppSettings.apiBaseUrl}/facts`).done(populateChuckFacts).fail(function(n,t,i){console.error(i)}).always(()=>{$("#loader").hide()})};$(document).ready(function(){loadChuckFacts();$("#refresh-icon").on("click",loadChuckFacts)});